<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Luna Mok Â· ä¸ªäººåç‰‡ï¼ˆè¿›é˜¶ç‰ˆï¼‰</title>
  <meta name="theme-color" content="#0ea5e9" />
  <style>
    :root{--bg:#0b1220;--card:#0f172a;--text:#e5e7eb;--muted:#9ca3af;--primary:#0ea5e9;--accent:#22d3ee;--shadow:0 10px 30px rgba(2,132,199,.35)}
    :root[data-theme='light']{--bg:#f8fafc;--card:#fff;--text:#111827;--muted:#6b7280;--primary:#0284c7;--accent:#06b6d4;--shadow:0 10px 30px rgba(2,132,199,.2)}
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font-family:ui-sans-serif,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans","PingFang SC","Microsoft YaHei",sans-serif;background:radial-gradient(1200px 600px at 90% -10%, rgba(34,211,238,.18), transparent 60%), radial-gradient(800px 400px at -10% 110%, rgba(14,165,233,.18), transparent 60%), var(--bg); color:var(--text); line-height:1.6; display:grid; place-items:center; padding:32px 16px;}
    .card{width:min(920px,94vw); background:linear-gradient(180deg, color-mix(in oklab, var(--card) 90%, #fff 10%), var(--card)); border-radius:24px; box-shadow:var(--shadow); border:1px solid color-mix(in oklab, var(--card), #fff 10%); position:relative; overflow:clip;}
    .ribbon{position:absolute; inset:-30% auto auto -30%; width:80%; height:80%; background:conic-gradient(from 210deg, transparent 0 60deg, color-mix(in oklab, var(--accent), transparent 65%) 60deg 120deg, transparent 120deg 360deg); filter:blur(40px) saturate(1.2); opacity:.35; pointer-events:none; animation:float 10s ease-in-out infinite alternate;}
    @keyframes float{to{transform:translate3d(10px,-8px,0) rotate(2deg)}}
    header{display:grid; grid-template-columns:116px 1fr auto; gap:20px; padding:28px 28px 8px; align-items:center;}
    .avatar{width:116px;height:116px;border-radius:24px;background:linear-gradient(135deg,#0ea5e933,#22d3ee33);display:grid;place-items:center;border:1px solid color-mix(in oklab,var(--card),#fff 14%);overflow:hidden}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .avatar .emoji{font-size:60px}
    .title h1{margin:0 0 6px;font-size:clamp(22px,3.4vw,30px)}
    .title p{margin:0;color:var(--muted)}
    .actions{display:flex;gap:10px;flex-wrap:wrap;justify-self:end}
    .btn{--_bg:color-mix(in oklab,var(--primary),#000 5%);--_text:#fff;--_bd:transparent;display:inline-flex;align-items:center;gap:.5rem;padding:10px 14px;border-radius:12px;border:1px solid var(--_bd);background:var(--_bg);color:var(--_text);font-weight:600;text-decoration:none;transition:.2s ease transform,.2s ease filter,.2s ease box-shadow; box-shadow:0 6px 18px rgba(14,165,233,.25); cursor:pointer}
    .btn.secondary{--_bg:transparent;--_text:var(--text);--_bd:color-mix(in oklab,var(--text),transparent 70%);box-shadow:none}
    .btn.ghost{--_bg:transparent;--_text:var(--text);--_bd:transparent;box-shadow:none;opacity:.9}
    .btn:hover{transform:translateY(-1px);filter:brightness(1.05)}
    main{padding:12px 28px 24px}
    .grid{display:grid;gap:18px;grid-template-columns:1.2fr 1fr}
    section{background:color-mix(in oklab,var(--card),#fff 4%);border:1px solid color-mix(in oklab,var(--card),#fff 10%);border-radius:18px;padding:18px}
    section h2{margin:0 0 8px;font-size:18px}
    .tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .tag{padding:6px 10px;border-radius:999px;border:1px solid color-mix(in oklab,var(--text),transparent 80%);font-size:13px}
    .links{display:grid;gap:10px}
    .link{display:grid;grid-template-columns:28px 1fr auto;gap:12px;align-items:center;padding:10px 12px;border-radius:14px;background:color-mix(in oklab,var(--card),#fff 6%);border:1px solid color-mix(in oklab,var(--card),#fff 12%)}
    .link a{color:var(--text);text-decoration:none;font-weight:600}
    .link small{color:var(--muted)}
    .prefs{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .seg{display:inline-flex;background:color-mix(in oklab,var(--card),#fff 6%);border:1px solid color-mix(in oklab,var(--card),#fff 12%);border-radius:12px;overflow:hidden}
    .seg button{padding:8px 12px;border:none;background:transparent;color:var(--text);cursor:pointer}
    .seg button.active{background:color-mix(in oklab,var(--primary),transparent 85%)}
    footer{padding:8px 28px 22px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between;align-items:center}
    .toast{position:fixed;inset:auto 16px 16px auto;background:var(--card);color:var(--text);border:1px solid color-mix(in oklab,var(--card),#fff 12%);padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);opacity:0;transform:translateY(8px);transition:.25s ease;pointer-events:none}
    .toast.show{opacity:1;transform:translateY(0)}
    @media (max-width:760px){header{grid-template-columns:88px 1fr;gap:14px}.avatar{width:88px;height:88px;border-radius:18px}.actions{grid-column:1/-1;justify-self:start}.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="card" role="region" aria-label="ä¸ªäººåç‰‡å¡ç‰‡">
    <div class="ribbon" aria-hidden="true"></div>
    <header>
      <div class="avatar" aria-label="å¤´åƒ"><div class="emoji" aria-hidden="true">ğŸŒ™</div></div>
      <div class="title">
        <h1 data-i18n="hi">ğŸ‘‹ ä½ å¥½ï¼Œæˆ‘æ˜¯ <strong>Luna Mok</strong></h1>
        <p data-i18n="subtitle">äº§å“/åˆ›æ„ç­–åˆ’ Â· è®¾è®¡çˆ±å¥½è€… Â· æ°¸è¿œåœ¨è·¯ä¸Š âœ¨</p>
        <div class="prefs">
          <div class="seg" role="group" aria-label="è¯­è¨€ Language">
            <button id="langZh" class="active">ä¸­æ–‡</button><button id="langEn">English</button>
          </div>
          <div class="seg" role="group" aria-label="ä¸»é¢˜ Theme">
            <button id="themeDark" class="active">ğŸŒ™ æ·±è‰²</button><button id="themeLight">â˜€ï¸ æµ…è‰²</button>
          </div>
        </div>
      </div>
      <div class="actions">
        <a class="btn" id="emailBtn" href="#">âœ‰ï¸ é‚®ä»¶</a>
        <a class="btn secondary" id="phoneBtn" href="#">ğŸ“ ç”µè¯</a>
        <a class="btn secondary" href="weixin://">ğŸŸ© æ‰“å¼€å¾®ä¿¡</a>
        <a class="btn secondary" id="vcard" download="Luna-Mok.vcf" href="#">ğŸ“‡ ä¸‹è½½åç‰‡</a>
        <a class="btn secondary" id="twBtn" href="https://x.com/LunaMok198149?s=09" target="_blank">ğŸ¦ Twitter</a>
        <button class="btn ghost" id="shareBtn">ğŸ”— åˆ†äº«</button>
        <input type="file" id="avatarInput" accept="image/*" style="display:none" />
        <button class="btn secondary" id="avatarUploadBtn">ğŸ–¼ï¸ ä¸Šä¼ å¤´åƒ</button>
        <button class="btn secondary" id="exportBtn">ğŸ’¾ å¯¼å‡ºå•æ–‡ä»¶</button>
      </div>
    </header>
    <main>
      <div class="grid">
        <section aria-label="å…³äºæˆ‘">
          <h2 data-i18n="about">å…³äºæˆ‘</h2>
          <p data-i18n="aboutText">æˆ‘çƒ­çˆ±æŠŠåˆ›æ„å˜æˆå¯è½åœ°çš„ä½“éªŒï¼Œå…³æ³¨äº§å“ä½“éªŒä¸å“ç‰Œæ•…äº‹çš„ç»“åˆã€‚æ“…é•¿ä» 0 â†’ 1 çš„ä¿¡æ¯æ¶æ„ã€å†…å®¹ç­–ç•¥ä¸è·¨å›¢é˜Ÿåä½œã€‚ç©ºé—²æ—¶å–œæ¬¢æ‹ç…§ã€æ—…è¡Œå’Œé€›å±•ï½</p>
          <div class="tags"><span class="tag">äº§å“ç­–åˆ’</span><span class="tag">ç”¨æˆ·ä½“éªŒ</span><span class="tag">å†…å®¹è¿è¥</span><span class="tag">è½»è®¾è®¡</span><span class="tag">æ‘„å½±/æ—…è¡Œ</span></div>
        </section>
        <section aria-label="è”ç³»ä¸é“¾æ¥">
          <h2 data-i18n="links">è”ç³»ä¸é“¾æ¥</h2>
          <div class="links">
            <div class="link">
              <div>ğŸ”—</div><div><a id="siteLink" href="#" target="_blank" rel="noopener">ä¸ªäººä¸»é¡µ</a><br><small data-i18n="siteDesc">æ›´å¤šä½œå“ä¸æ–‡ç« </small></div><span>â†—</span>
            </div>
            <div class="link">
              <div>ğŸ’¼</div><div><a id="inLink" href="#" target="_blank" rel="noopener">LinkedIn</a><br><small data-i18n="inDesc">èŒä¸šæ¡£æ¡ˆ</small></div><span>â†—</span>
            </div>
            <div class="link">
              <div>ğŸ“¸</div><div><a id="igLink" href="#" target="_blank" rel="noopener">Instagram</a><br><small data-i18n="igDesc">ç…§ç‰‡æ—¥å¸¸</small></div><span>â†—</span>
            </div>
            <div class="link">
              <div>ğŸ’»</div><div><a id="ghLink" href="#" target="_blank" rel="noopener">GitHub</a><br><small data-i18n="ghDesc">é¡¹ç›®ä¸ä»£ç </small></div><span>â†—</span>
            </div>
          </div>
        </section>
      </div>
    </main>
    <footer><span>Â© <span id="year"></span> Luna Mok</span><span>Made with â¤ï¸</span></footer>
  </div>
  <div class="toast" id="toast" role="status" aria-live="polite">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ âœ…</div>
<script>
// ====== å¯ç¼–è¾‘èµ„æ–™ ======
const PROFILE = {
  name: "Luna Mok",
  email: "luna@example.com",
  phone: "15578121642",
  wechat: "LunaWeChatID",
  title: "äº§å“/åˆ›æ„ç­–åˆ’",
  org: "ç‹¬ç«‹åˆ›ä½œè€…",
  site: "https://luna.example.com",
  linkedin: "https://www.linkedin.com/in/yourname",
  instagram: "https://instagram.com/yourname",
  github: "https://github.com/yourname",
  city: "Los Angeles, CA",
  avatar: "" // å¯å¡« dataURL æˆ–ç½‘ç»œå›¾ç‰‡
};

// ====== æ–‡æ¡ˆå¤šè¯­è¨€ ======
const I18N = {
  zh: {
    hi: "ğŸ‘‹ ä½ å¥½ï¼Œæˆ‘æ˜¯ <strong>Luna Mok</strong>",
    subtitle: "äº§å“/åˆ›æ„ç­–åˆ’ Â· è®¾è®¡çˆ±å¥½è€… Â· æ°¸è¿œåœ¨è·¯ä¸Š âœ¨",
    about: "å…³äºæˆ‘",
    aboutText: "æˆ‘çƒ­çˆ±æŠŠåˆ›æ„å˜æˆå¯è½åœ°çš„ä½“éªŒï¼Œå…³æ³¨äº§å“ä½“éªŒä¸å“ç‰Œæ•…äº‹çš„ç»“åˆã€‚æ“…é•¿ä» 0 â†’ 1 çš„ä¿¡æ¯æ¶æ„ã€å†…å®¹ç­–ç•¥ä¸è·¨å›¢é˜Ÿåä½œã€‚ç©ºé—²æ—¶å–œæ¬¢æ‹ç…§ã€æ—…è¡Œå’Œé€›å±•ï½",
    links: "è”ç³»ä¸é“¾æ¥",
    siteDesc: "æ›´å¤šä½œå“ä¸æ–‡ç« ",
    inDesc: "èŒä¸šæ¡£æ¡ˆ",
    igDesc: "ç…§ç‰‡æ—¥å¸¸",
    ghDesc: "é¡¹ç›®ä¸ä»£ç "
  },
  en: {
    hi: "ğŸ‘‹ Hi, I'm <strong>Luna Mok</strong>",
    subtitle: "Product/Creative Strategist Â· Design Enthusiast âœ¨",
    about: "About Me",
    aboutText: "I love turning ideas into tangible experiences. I focus on product UX and brand storytelling, and enjoy building from 0â†’1. In spare time I shoot photos, travel, and visit exhibitions.",
    links: "Contact & Links",
    siteDesc: "More works & posts",
    inDesc: "Professional profile",
    igDesc: "Photo diary",
    ghDesc: "Projects & code"
  }
};

const $ = s => document.querySelector(s);
const toast = $("#toast");
const root = document.documentElement;

// åˆå§‹åŒ–
$("#year").textContent = new Date().getFullYear();
$("#emailBtn").href = "mailto:" + PROFILE.email;
$("#phoneBtn").href = "tel:" + PROFILE.phone;
$("#siteLink").href = PROFILE.site;
$("#inLink").href = PROFILE.linkedin;
$("#igLink").href = PROFILE.instagram;
$("#ghLink").href = PROFILE.github;

// å¤åˆ¶å¾®ä¿¡
$("#copyWx").addEventListener("click", e => {
  e.preventDefault();
  navigator.clipboard.writeText(PROFILE.wechat).then(()=>showToast("å·²å¤åˆ¶å¾®ä¿¡ âœ…"));
});

// vCard ç”Ÿæˆä¸‹è½½
(function setupVCard(){
  const v = [
    "BEGIN:VCARD",
    "VERSION:3.0",
    "N:Mok;Luna;;;",
    "FN:" + PROFILE.name,
    "ORG:" + PROFILE.org,
    "TITLE:" + PROFILE.title,
    "EMAIL;TYPE=INTERNET,PREF:" + PROFILE.email,
    "TEL;TYPE=CELL:" + PROFILE.phone,
    "URL:" + PROFILE.site,
    "ADR;TYPE=HOME:;;;" + PROFILE.city + ";;;;",
    "END:VCARD"
  ].join("\n");
  const blob = new Blob([v], {type:"text/vcard;charset=utf-8"});
  $("#vcard").href = URL.createObjectURL(blob);
})();

// åˆ†äº«
$("#shareBtn").addEventListener("click", async () => {
  try{
    if(navigator.share){
      await navigator.share({title:document.title, text:"æˆ‘çš„ä¸ªäººåç‰‡", url:location.href});
    }else{
      await navigator.clipboard.writeText(location.href);
      showToast("å·²å¤åˆ¶é¡µé¢é“¾æ¥ âœ…");
    }
  }catch(e){
    await navigator.clipboard.writeText(location.href);
    showToast("å·²å¤åˆ¶é¡µé¢é“¾æ¥ âœ…");
  }
});

// ä¸»é¢˜åˆ‡æ¢
$("#themeLight").addEventListener("click", ()=>setTheme("light"));
$("#themeDark").addEventListener("click", ()=>setTheme("dark"));
function setTheme(mode){
  const isLight = mode === "light";
  if(isLight){ root.setAttribute("data-theme","light"); }
  else{ root.removeAttribute("data-theme"); }
  localStorage.setItem("theme", mode);
  $("#themeLight").classList.toggle("active", isLight);
  $("#themeDark").classList.toggle("active", !isLight);
}
const savedTheme = localStorage.getItem("theme");
if(savedTheme) setTheme(savedTheme);

// è¯­è¨€åˆ‡æ¢
$("#langZh").addEventListener("click", ()=>setLang("zh"));
$("#langEn").addEventListener("click", ()=>setLang("en"));
function setLang(lang){
  const dict = I18N[lang] || I18N.zh;
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    const html = dict[key] || el.innerHTML;
    el.innerHTML = html;
  });
  localStorage.setItem("lang", lang);
  $("#langZh").classList.toggle("active", lang==="zh");
  $("#langEn").classList.toggle("active", lang==="en");
}
setLang(localStorage.getItem("lang") || "zh");

// å¤´åƒï¼šæ”¯æŒä¸Šä¼ ä¸æŒä¹…åŒ–ã€æœ¬åœ°å¯¼å‡º
const avatarBtn = $("#avatarUploadBtn");
const avatarInput = $("#avatarInput");
avatarBtn.addEventListener("click", ()=> avatarInput.click());
const savedAvatar = localStorage.getItem("profile_avatar_dataurl");
if(savedAvatar) PROFILE.avatar = savedAvatar;
renderAvatar(PROFILE.avatar);

avatarInput.addEventListener("change", async ()=>{
  const file = avatarInput.files?.[0];
  if(!file) return;
  const dataUrl = await toDataURL(file, 360);
  PROFILE.avatar = dataUrl;
  localStorage.setItem("profile_avatar_dataurl", dataUrl);
  renderAvatar(dataUrl);
  showToast("å¤´åƒå·²æ›´æ–°å¹¶ä¿å­˜ âœ…");
});

function renderAvatar(src){
  if(!src) return;
  const img = new Image();
  img.src = src;
  img.alt = PROFILE.name + " å¤´åƒ";
  img.onload = () => {
    const box = document.querySelector(".avatar");
    box.innerHTML = "";
    box.appendChild(img);
  };
}

async function toDataURL(file, maxSize=360){
  const bitmap = await createImageBitmap(file);
  const canvas = document.createElement("canvas");
  const {width, height} = bitmap;
  const scale = Math.min(1, maxSize / Math.max(width, height));
  canvas.width = Math.round(width * scale);
  canvas.height = Math.round(height * scale);
  const ctx = canvas.getContext("2d");
  ctx.drawImage(bitmap, 0, 0, canvas.width, canvas.height);
  const type = file.type && file.type.startsWith("image/") ? file.type : "image/png";
  return canvas.toDataURL(type, 0.9);
}

// å¯¼å‡ºä¸ºå•æ–‡ä»¶ï¼ˆå†…åµŒå¤´åƒç­‰ï¼‰
$("#exportBtn").addEventListener("click", () => {
  const serializer = new XMLSerializer();
  let htmlStr = serializer.serializeToString(document);
  htmlStr = htmlStr.replace(/PROFILE\.avatar\":\s*\"[^\"]*\"/g, 'PROFILE.avatar": \"' + (PROFILE.avatar || "") + '\"');
  const blob = new Blob([htmlStr], {type:"text/html;charset=utf-8"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "luna-card-advanced-single.html";
  a.click();
  URL.revokeObjectURL(a.href);
  showToast("å·²å¯¼å‡ºä¸ºå•æ–‡ä»¶ âœ…");
});

function showToast(text){
  toast.textContent = text || "å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ âœ…";
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"), 1800);
}
</script>
</body>
</html>
